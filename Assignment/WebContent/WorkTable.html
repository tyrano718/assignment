<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
	$(document).ready(function(){
		$("#back").hide();
		
    	$("#confirm").click(function(){
    		<!-- 각달의 마지막 날짜를 구하는 함수 -->
    		function endDate(month){
    			switch(i+1){
					case 1:
					case 3:
					case 5:
					case 7:
					case 8:
					case 10:
					case 12: return 31;
					case 2: return 28;
					default: return 30;
				}
    		}
    		
    		<!-- 선택한 기간과 간호사 수의 값을 불러옴 -->
    		<!-- 각 기간의 시작 월과 마지막 월 -->
    		var monthS = Number($("#period #start").val());
    		var monthE = Number($("#period #end").val());
    		
    		monthS = new Date(2018, monthS-1);
    		monthE = new Date(2018, monthE-1);
    		
    		if(monthS > monthE){
    			alert('시작하는 달이 끝나는 달보다 크면 안 됩니다!');
    			return;
    		}
    		
    		<!-- 간호사의 수 -->
    		var chiefN = Number($("#nurses #chief").val());
    		var regularN = Number($("#nurses #regular").val());
    		var helperN = Number($("#nurses #helper").val());
    		
    		<!-- 간호사 배열 생성 -->
    		var chiefArr = new Array(chiefN);
    		var regularArr = new Array(regularN);
    		var helperArr = new Array(helperN);
    		
    		var endDateSum = 0;
    		for(var i = monthS.getMonth(); i <= monthE.getMonth(); i++){
    			endDateSum += endDate(j+1);
    		}
    		
    		for(var i = 0; i < chiefArr.length; i++) chiefArr[i] = new Array(endDateSum);
    		for(var i = 0; i < regularArr.length; i++) regularArr[i] = new Array(endDateSum);
    		for(var i = 0; i < helperArr.length; i++) helperArr[i] = new Array(endDateSum);
    		
    		<!-- 간호사 근무 배정 -->
    		for(var i=0; i < chiefArr.length; i++){
    			for(var j = 0; j < chiefArr[i].length; j++){
    				chiefArr[i][j] = 'D';
    			}
    		}
    		
    		<!-- 간호사열 생성 -->
    		var nurseR = '';
    		for(var i = 0; i < chiefN; i++){
    			nurseR += '<tr><td><font color="green"><strong>수간호사'+(i+1)+'</strong></font></td>';
    			for(var j = 0; j < chiefArr[i].length; j++){
    				nurseR += '<td style="text-align:center;">'+chiefArr[i][j]+'</td>';
    			}
    			nurseR += '</tr>';
    		}
    		for(var i = 0; i < regularN; i++){
    			nurseR += '<tr><td><font color="purple"><strong>일반 간호사'+(i+1)+'</strong></font></td></tr>';
    		}
    		for(var i = 0; i < helperN; i++){
    			nurseR += '<tr><td><font color="brown"><strong>간호 조무사'+(i+1)+'</strong></font></td></tr>';
    		}
    		
    		<!-- 테이블 생성 -->
    		var table='';
    		for(var i = monthS.getMonth(); i <= monthE.getMonth(); i++){
    			table += '<table><tr><th>간호사/날짜</th>';
    			for(var j = 1; j <= endDate(i+1); j++){
    				table += '<th>'+(i+1)+'/'+j+'</th>';
    			}
    			table += '</tr>' + nurseR + '</table><br/><br/>';
    		}
    		
    		$("#table").html(table);
    		$("#confirm").hide();
    		$("#back").show();
    	});
    	
    	$("#back").click(function(){
    		$("#table").empty();
    		$("#confirm").show();
    		$("#back").hide();
    	});
	});
</script>
<style type="text/css">
	table, th, td {
    	border: 1px solid black;
    	border-collapse: collapse;
	}
</style>
<title>간호사 근무표</title>
</head>
<body>
	<div id="workTable">
		<h1>간호사 근무표</h1>
		<div id="period">
			<fieldset>
				<legend><strong>근무기간 입력</strong></legend>
				2018년 
				<select id="start">
					<option value="1">1월</option>
					<option value="2">2월</option>
					<option value="3">3월</option>
					<option value="4">4월</option>
					<option value="5">5월</option>
					<option value="6">6월</option>
					<option value="7">7월</option>
					<option value="8">8월</option>
					<option value="9">9월</option>
					<option value="10">10월</option>
					<option value="11">11월</option>
					<option value="12">12월</option>
				</select>
				부터<br/>
				2018년 
				<select id="end">
					<option value="1">1월</option>
					<option value="2">2월</option>
					<option value="3">3월</option>
					<option value="4">4월</option>
					<option value="5">5월</option>
					<option value="6">6월</option>
					<option value="7">7월</option>
					<option value="8">8월</option>
					<option value="9">9월</option>
					<option value="10">10월</option>
					<option value="11">11월</option>
					<option value="12">12월</option>
				</select>
				까지
			</fieldset>
		</div>
		<br/>
		<div id="nurses">
			<fieldset>
				<legend><strong>간호사 수 입력</strong></legend>
				수간호사 : 
				<select id="chief">
					<option value="2">2명</option>
					<option value="3">3명</option>
					<option value="4">4명</option>
					<option value="5">5명</option>
					<option value="6">6명</option>
					<option value="7">7명</option>
					<option value="8">8명</option>
					<option value="9">9명</option>
					<option value="10">10명</option>
				</select><br/>
				일반 간호사 : 
				<select id="regular">
					<option value="4">4명</option>
					<option value="5">5명</option>
					<option value="6">6명</option>
					<option value="7">7명</option>
					<option value="8">8명</option>
					<option value="9">9명</option>
					<option value="10">10명</option>
				</select><br/>
				간호 조무사 : 
				<select id="helper">
					<option value="4">4명</option>
					<option value="5">5명</option>
					<option value="6">6명</option>
					<option value="7">7명</option>
					<option value="8">8명</option>
					<option value="9">9명</option>
					<option value="10">10명</option>
				</select>
			</fieldset>
		</div>
		<p>
		<button id="confirm">확인</button>
		<button id="back">뒤로</button>
		</p>
		<div id="table">
			
		</div>
	</div>
</body>
</html>